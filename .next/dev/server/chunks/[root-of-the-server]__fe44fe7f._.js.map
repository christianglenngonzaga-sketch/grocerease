{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Terryl%20Jean/Downloads/grocer-ease-sql-schema/lib/db.ts"],"sourcesContent":["import mysql from \"mysql2/promise\";\r\n\r\nconst pool = mysql.createPool({\r\n  host: process.env.DB_HOST ?? \"127.0.0.1\",\r\n  user: process.env.DB_USER ?? \"root\",\r\n  password: process.env.DB_PASSWORD ?? \"\",\r\n  database: process.env.DB_NAME ?? \"grocerease\",\r\n  waitForConnections: true,\r\n  connectionLimit: 10,\r\n  queueLimit: 0,\r\n});\r\n\r\nexport default pool;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,OAAO,iLAAK,CAAC,UAAU,CAAC;IAC5B,MAAM,QAAQ,GAAG,CAAC,OAAO,IAAI;IAC7B,MAAM,QAAQ,GAAG,CAAC,OAAO,IAAI;IAC7B,UAAU,QAAQ,GAAG,CAAC,WAAW,IAAI;IACrC,UAAU,QAAQ,GAAG,CAAC,OAAO,IAAI;IACjC,oBAAoB;IACpB,iBAAiB;IACjB,YAAY;AACd;uCAEe"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Terryl%20Jean/Downloads/grocer-ease-sql-schema/lib/auth.ts"],"sourcesContent":["import jwt from \"jsonwebtoken\"\r\n\r\nconst SECRET = process.env.JWT_SECRET ?? \"change-this-secret\"\r\n\r\nexport function signToken(payload: object): string {\r\n  return jwt.sign(payload, SECRET, { expiresIn: \"7d\" })\r\n}\r\n\r\nexport function verifyToken(token?: string): any | null {\r\n  if (!token) return null\r\n  try {\r\n    const t = token.replace(/^Bearer\\s+/i, \"\")\r\n    return jwt.verify(t, SECRET) as any\r\n  } catch {\r\n    return null\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,UAAU,IAAI;AAElC,SAAS,UAAU,OAAe;IACvC,OAAO,qLAAG,CAAC,IAAI,CAAC,SAAS,QAAQ;QAAE,WAAW;IAAK;AACrD;AAEO,SAAS,YAAY,KAAc;IACxC,IAAI,CAAC,OAAO,OAAO;IACnB,IAAI;QACF,MAAM,IAAI,MAAM,OAAO,CAAC,eAAe;QACvC,OAAO,qLAAG,CAAC,MAAM,CAAC,GAAG;IACvB,EAAE,OAAM;QACN,OAAO;IACT;AACF"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Terryl%20Jean/Downloads/grocer-ease-sql-schema/app/api/auth/login/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport bcrypt from \"bcryptjs\"\nimport pool from \"@/lib/db\"\nimport { signToken } from \"@/lib/auth\"\n\nexport async function POST(req: Request) {\n  try {\n    const { email, password } = await req.json()\n    if (!email || !password) return NextResponse.json({ error: \"missing\" }, { status: 400 })\n\n    const [rows] = await pool.execute(\"SELECT id, password_hash, first_name, last_name FROM users WHERE email = ?\", [email])\n    const user = (rows as any[])[0]\n    if (!user) return NextResponse.json({ error: \"invalid credentials\" }, { status: 401 })\n\n    const ok = await bcrypt.compare(password, user.password_hash)\n    if (!ok) return NextResponse.json({ error: \"invalid credentials\" }, { status: 401 })\n\n    const token = signToken({ userId: user.id })\n    return NextResponse.json({ user: { id: user.id, email, first_name: user.first_name, last_name: user.last_name }, token })\n  } catch (err) {\n    console.error(err)\n    return NextResponse.json({ error: \"server error\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAC1C,IAAI,CAAC,SAAS,CAAC,UAAU,OAAO,mLAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAU,GAAG;YAAE,QAAQ;QAAI;QAEtF,MAAM,CAAC,KAAK,GAAG,MAAM,yJAAI,CAAC,OAAO,CAAC,8EAA8E;YAAC;SAAM;QACvH,MAAM,OAAO,AAAC,IAAc,CAAC,EAAE;QAC/B,IAAI,CAAC,MAAM,OAAO,mLAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAsB,GAAG;YAAE,QAAQ;QAAI;QAEpF,MAAM,KAAK,MAAM,iLAAM,CAAC,OAAO,CAAC,UAAU,KAAK,aAAa;QAC5D,IAAI,CAAC,IAAI,OAAO,mLAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAsB,GAAG;YAAE,QAAQ;QAAI;QAElF,MAAM,QAAQ,IAAA,6JAAS,EAAC;YAAE,QAAQ,KAAK,EAAE;QAAC;QAC1C,OAAO,mLAAY,CAAC,IAAI,CAAC;YAAE,MAAM;gBAAE,IAAI,KAAK,EAAE;gBAAE;gBAAO,YAAY,KAAK,UAAU;gBAAE,WAAW,KAAK,SAAS;YAAC;YAAG;QAAM;IACzH,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC;QACd,OAAO,mLAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACpE;AACF"}}]
}